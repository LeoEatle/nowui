webpackJsonp([27],{2:function(module,exports){"use strict";function getUa(){return"undefined"!=typeof navigator&&navigator&&navigator.userAgent||""}function Up(str){return str.replace(/^./,function(ch){return ch.toUpperCase()})}function compare(a,b){var i,l,r,len;for(a=String(a).split("."),b=String(b).split("."),i=0,len=Math.max(a.length,b.length);i<len;i++){if(l=isFinite(a[i])&&Number(a[i])||0,r=isFinite(b[i])&&Number(b[i])||0,l<r)return-1;if(l>r)return 1}return 0}var regexp=[["IOS",/\b(iPad|iPhone|iPod)\b.*? OS ([\d_]+)/,2],["android",/\bAndroid\s*([^;]+)/],["QQBrowser",/\bMQQBrowser\/([\d\.]+)/],["nowSDK",/\bNowSDK\/([\d\.]*)/i],["QQ",/\bQQ\/([\d\.]+)/],["weixin",/\bMicroMessenger\/([\d\.]*)/],["now",/\bNow\/(\d+|LocalCompiled)/],["nowDev",/\bNow\/LocalCompiled/],["jiaoyou",/\bODApp\/([\d\.]+|LocalCompiled)/],["jiaoyouDev",/\bODApp\/LocalCompiled/],["huayang",/\bhuayangapp\/([\d\.]*)/],["qzone",/\bQzone\/\w*_([\d\.]+)/],["comicReader",/\bQQAC_Client(_\w+)?\/([\d\.]*)/i],["weibo",/\bweibo/i]],entry={userAgent:getUa,init:function(){var _this=this;regexp.forEach(function(args){_this.addItem.apply(_this,args)}),this.platform=this.isIOS?"ios":this.isAndroid?"android":"pc",regexp.forEach(function(args){var name=args[0];_this["is"+Up(name)]&&(_this.type=name)}),this.netType=getUa().match(/NetType\/(\w+)/i)&&RegExp.$1.toUpperCase(),this.model=getUa().match(/\(.*;\s?(\S*?\s?\S*?)\s?(Build)?\//i)&&RegExp.$1},addItem:function(name,exp){var verPos=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,match=getUa().match(exp),version=(match&&match[verPos]||"").replace(/_/g,".")||null;this["is"+Up(name)]=!!match,this[name+"Version"]=version,this[name+"Upper"]=this._upper.bind(this,name),this[name+"Lower"]=this._lower.bind(this,name),this[name+"Compare"]=this._compare.bind(this,name)},_upper:function(name,ver){var v=this.version(name);return v&&compare(v,ver)>=0||!1},_lower:function(name,ver){var v=this.version(name);return v&&compare(v,ver)<=0||!1},_compare:function(name,ver){var v=this.version(name);return v?compare(v,ver):-2},version:function(name){return this[name+"Version"]||null}};entry.init(),module.exports=entry},13:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(),exports.push([module.id,".now-button{display:block;box-sizing:border-box;text-align:center}.now-button.now-button-large{width:200px;height:40px;line-height:40px;border-radius:40px;font-size:16px}.now-button.now-button-middle{width:100px;height:30px;line-height:30px;border-radius:30px;font-size:14px}.now-button.now-button-small{width:80px;height:26px;line-height:26px;border-radius:26px;font-size:12px}.now-button.now-button-type1{border:1px solid #05d380;background-color:transparent;color:#000}.now-button.now-button-type1.pressed,.now-button.now-button-type1:active{opacity:.5}.now-button.now-button-type1.disabled{border-color:#e6e6e6;color:#bbb}.now-button.now-button-type1.disabled:active{opacity:1}.now-button.now-button-type2{background-color:#05d380;color:#fff}.now-button.now-button-type2.pressed,.now-button.now-button-type2:active{opacity:.5}.now-button.now-button-type2.disabled{background-color:#e6e6e6}.now-button.now-button-type2.disabled:active{opacity:1}.now-button.now-button-type3{border:1px solid #333}.now-button.now-button-type3.pressed,.now-button.now-button-type3:active{opacity:.5}.now-button.now-button-type3.disabled{border-color:#e6e6e6}.now-button.now-button-type3.disabled:active{opacity:1}",""])},14:[1834,13],16:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};__webpack_require__(14);var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),sizeList=["small","large","middle"],Button=function(_Component){function Button(){return _classCallCheck(this,Button),_possibleConstructorReturn(this,_Component.apply(this,arguments))}return _inherits(Button,_Component),Button.prototype.render=function(){var _props=this.props,type=(_props.style,_props.type),size=_props.size,disabled=_props.disabled,className=_props.className,children=_props.children;(type>3||type<0)&&(type=1,console.warn("now-button 允许使用的 type 只有 1 2 3")),sizeList.indexOf(size)<0&&(type="large",console.warn("now-button 支持的 size 只支持 small middle large"));var buttonClass="now-button now-button-type"+type+" now-button-"+size+(className||"");return buttonClass+=disabled?" disabled":"",_react2.default.createElement("div",_extends({},this.props,{className:buttonClass}),children)},Button}(_react.Component);Button.propTypes={type:_react.PropTypes.number,size:_react.PropTypes.string,style:_react.PropTypes.object,disabled:_react.PropTypes.bool},Button.defaultProps={type:1,disabled:!1,size:"large",style:{}},exports.default=Button},63:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(name,definition){"undefined"!=typeof module&&module.exports?module.exports=definition():(__WEBPACK_AMD_DEFINE_FACTORY__=definition,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("$script",function(){function every(ar,fn){for(var i=0,j=ar.length;i<j;++i)if(!fn(ar[i]))return f;return 1}function each(ar,fn){every(ar,function(el){return!fn(el)})}function $script(paths,idOrDone,optDone){function loopFn(item){return item.call?item():list[item]}function callback(){if(!--queue){list[id]=1,done&&done();for(var dset in delay)every(dset.split("|"),loopFn)&&!each(delay[dset],loopFn)&&(delay[dset]=[])}}paths=paths[push]?paths:[paths];var idOrDoneIsDone=idOrDone&&idOrDone.call,done=idOrDoneIsDone?idOrDone:optDone,id=idOrDoneIsDone?paths.join(""):idOrDone,queue=paths.length;return setTimeout(function(){each(paths,function loading(path,force){return null===path?callback():(force||/^https?:\/\//.test(path)||!scriptpath||(path=path.indexOf(".js")===-1?scriptpath+path+".js":scriptpath+path),scripts[path]?(id&&(ids[id]=1),2==scripts[path]?callback():setTimeout(function(){loading(path,!0)},0)):(scripts[path]=1,id&&(ids[id]=1),void create(path,callback)))})},0),$script}function create(path,fn){var loaded,el=doc.createElement("script");if(el.onload=el.onerror=el[onreadystatechange]=function(){el[readyState]&&!/^c|loade/.test(el[readyState])||loaded||(el.onload=el[onreadystatechange]=null,loaded=1,scripts[path]=2,fn())},config&&"[object Object]"===Object.prototype.toString.call(config))for(var key in config)if(config.hasOwnProperty(key)){var value=config[key];value=value===!0?"":value,el.setAttribute(key.toLowerCase(),value)}el.src=urlArgs?path+(path.indexOf("?")===-1?"?":"&")+urlArgs:path,head.insertBefore(el,head.lastChild)}var scriptpath,urlArgs,config,doc=document,head=doc.getElementsByTagName("head")[0],f=!1,push="push",readyState="readyState",onreadystatechange="onreadystatechange",list={},ids={},delay={},scripts={};return $script.get=create,$script.order=function(scripts,id,done){!function callback(s){s=scripts.shift(),scripts.length?$script(s,callback):$script(s,id,done)}()},$script.path=function(p){scriptpath=p},$script.urlArgs=function(str){urlArgs=str},$script.ready=function(deps,ready,req){deps=deps[push]?deps:[deps];var missing=[];return!each(deps,function(dep){list[dep]||missing[push](dep)})&&every(deps,function(dep){return list[dep]})?ready():!function(key){delay[key]=delay[key]||[],delay[key][push](ready),req&&req(missing)}(deps.join("|")),$script},$script.done=function(idOrDone){$script([null],idOrDone)},$script.config=function(option){config=option},$script})},126:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(),exports.push([module.id,"#player-container{position:absolute;left:0;top:0;bottom:0;right:0;overflow:hidden}#player-container video{display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);min-height:100%;min-width:100%;height:auto;width:auto}#player-container video::-webkit-media-controls{display:none!important}#player-container video::-webkit-media-controls-panel,#player-container video::\\--webkit-media-controls-play-button{display:none!important;-webkit-appearance:none}#player-container video::-webkit-media-controls-start-playback-button{display:none!important;-webkit-appearance:none}#player-container video.setsize{transform:none;min-width:auto;min-height:auto}",""])},158:[1834,126],708:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_sandbox=__webpack_require__(7),_nowBaseButton=__webpack_require__(16),_nowBaseButton2=_interopRequireDefault(_nowBaseButton),_index=__webpack_require__(710),_index2=_interopRequireDefault(_index),PlayerWrapper=function(_Component){function PlayerWrapper(){var _ref,_temp,_this,_ret;_classCallCheck(this,PlayerWrapper);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=PlayerWrapper.__proto__||Object.getPrototypeOf(PlayerWrapper)).call.apply(_ref,[this].concat(args))),_this.load=function(){_this.refs.player.load()},_this.play=function(){_this.refs.player.play()},_this.pause=function(){_this.refs.player.pause()},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(PlayerWrapper,_Component),_createClass(PlayerWrapper,[{key:"render",value:function(){return _react2.default.createElement("div",{style:{height:"100%"}},_react2.default.createElement("div",{style:{position:"absolute",zIndex:999}},_react2.default.createElement(_nowBaseButton2.default,{onClick:this.load},"加载"),_react2.default.createElement(_nowBaseButton2.default,{onClick:this.play},"播放"),_react2.default.createElement(_nowBaseButton2.default,{onClick:this.pause},"暂停")),_react2.default.createElement(_index2.default,{ref:"player",src:"http://14.215.153.161/nowlive.tc.qq.com/1055_51874872027664612100000000000000.f5.mp4?vkey=45FFE940C67F6609F6E0E1BC03706987854400EEC1CF485B8676B624E12C269A8A88AAE69D585EFCC7C43774D0F5E8DAD7E86CE27CA5B6B5D7F33CE230EF86011E3253683C49DB87E3965CFAB9292ACE9F426D23C710E946"}))}}]),PlayerWrapper}(_react.Component);exports.default=PlayerWrapper,_sandbox.sandboxStore.add("player",PlayerWrapper)},710:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(158);var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_device=__webpack_require__(2),_device2=_interopRequireDefault(_device),_nowScriptjs=__webpack_require__(63),_nowScriptjs2=_interopRequireDefault(_nowScriptjs),ERR_MAP={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"},Video=function(_Component){function Video(props){_classCallCheck(this,Video);var _this=_possibleConstructorReturn(this,(Video.__proto__||Object.getPrototypeOf(Video)).call(this,props));return _this.initHlsJs=function(){if("undefined"!=typeof Hls&&Hls.isSupported()&&"hls"===_this.videoType()){var hls=new Hls({});_this.hls=hls,_this.hls.attachMedia(_this.video),_this.hls.on(Hls.Events.MANIFEST_PARSED,function(){_this.video.play()}),_this.hlsLoad(_this.props.src)}},_this.hlsLoad=function(src){_this.hls&&src&&_this.hls.loadSource(src)},_this.play=function(){_this.video.play()},_this.load=function(){_this.video.load()},_this.pause=function(){_this.video.pause()},_this.setSizeForLowerDevice=function(){(_device2.default.IOSLower("7.9")||_device2.default.isMiui||_this.isMZMXBrowser)&&_this._setSizeForLowerDevice(_this.video)},_this.videoType=function(src){return src=src||_this.props.src,src?/\.m3u8/.test(src)?"hls":"mp4":""},_this._setSizeForLowerDevice=function(video){var w=window.innerWidth,h=window.innerHeight,w_h=9/16,width=void 0,height=void 0;w/w_h>h?(width=w,height=w/w_h):(width=h*w_h,height=h),video.classList.add("setsize"),Object.assign(video.style,{width:parseInt(width)+"px",height:parseInt(height)+"px",left:-parseInt((width-w)/2)+"px",top:-parseInt((height-h)/2)+"px"})},_this.onPlay=function(){_this._dispatch("play")},_this.onPlaying=function(){_this._dispatch("playing")},_this.onTimeUpdate=function(){_this._dispatch("timeUpdate")},_this.onPause=function(){_this._dispatch("pause")},_this.onEnded=function(){_this._dispatch("ended")},_this.onError=function(e){var video=_this.video;console.log("video error: ",{currentTime:video.currentTime,code:ERR_MAP[video.error.code]||e}),_this._dispatch("error",e)},_this._dispatch=function(event){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];var method="on"+event.replace(/^./,function(ch){return ch.toUpperCase()});_this.props[method]&&_this.props[method].apply(_this.props,args)},_this.isMZMXBrowser=/(MZ-MX)/i.test(navigator.userAgent)&&!_device2.default.isNow&&_device2.default.isAndroid&&!_device2.default.isWeixin&&!_device2.default.isQQ&&!_device2.default.isQQBrowser,_this.enableAutoPlay=!(_device2.default.isAndroid&&_device2.default.isWeixin),_this.useHlsjs="Win32"===navigator.platform,_this}return _inherits(Video,_Component),_createClass(Video,[{key:"componentDidMount",value:function(){var _this2=this;this.mounted=!0,this.useHlsjs&&(0,_nowScriptjs2.default)("//11.url.cn/now/lib/hls.min.js",function(){_this2.initHlsJs()})}},{key:"componentWillReceiveProps",value:function(nextProps){nextProps.src!==this.props.src&&this.hlsLoad(nextProps.src)}},{key:"componentDidUpdate",value:function(){this.mounted&&!this.doneSetSizeForLowerDevice&&(this.doneSetSizeForLowerDevice=!0,this.setSizeForLowerDevice())}},{key:"render",value:function(){var _this3=this,props=this.props,attrs=(this.state,_device2.default.isWeixin||_device2.default.isQQ||_device2.default.isQzone?{}:{"x5-video-player-type":"h5"});return _react2.default.createElement("video",_extends({ref:function(c){_this3.video=c},id:"mainvideo",preload:"auto",autoPlay:this.enableAutoPlay,style:Object.assign({zIndex:1},props.style),is:!0,"webkit-playsinline":!0,playsinline:!0},attrs,{src:this.useHlsjs&&"hls"===this.videoType()||!props.src?void 0:props.src,onLoadedMetadata:this.props.onLoadedMetadata,onTimeUpdate:this.onTimeUpdate,onPlay:this.onPlay,onPlaying:this.onPlaying,onPause:this.onPause,onError:this.onError,onEnded:this.onEnded}))}},{key:"duration",get:function(){return this.props.duration||this.video.duration||0}},{key:"buffered",get:function(){return this.video.buffered}},{key:"currentTime",get:function(){return this.video.currentTime},set:function(currentTime){this.video.currentTime=currentTime}},{key:"ended",get:function(){return this.video.ended}},{key:"error",get:function(){return this.video.error}},{key:"paused",get:function(){return this.video.paused}},{key:"readyState",get:function(){return this.video.readyState}}]),Video}(_react.Component);exports.default=Video},1834:function(module,exports,__webpack_require__,__webpack_module_template_argument_0__){var content=__webpack_require__(__webpack_module_template_argument_0__);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(4)(content,{});content.locals&&(module.exports=content.locals)}});
//# sourceMappingURL=27.d184d73e5859a6202625.bundle.js.map