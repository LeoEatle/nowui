webpackJsonp([32],{18:function(module,exports){"use strict";exports.__esModule=!0;var cookie={get:function(name){if("undefined"==typeof document||!document.cookie)return"";var reg=new RegExp("(^| )"+name+"(?:=([^;]*))?(;|$)"),val=document.cookie.match(reg);return val?val[2]?unescape(val[2]):"":null},set:function(name,value,expires,path,domain,secure){if("undefined"==typeof document||!document.cookie)return"";var exp=new Date,expires=arguments[2]||null,path=arguments[3]||"/",domain=arguments[4]||null,secure=arguments[5]||!1;expires?exp.setMinutes(exp.getMinutes()+parseInt(expires)):"",document.cookie=name+"="+escape(value)+(expires?";expires="+exp.toGMTString():"")+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")},del:function(name,path,domain,secure){if("undefined"==typeof document||!document.cookie)return"";var value=this.get(name);if(null!=value){var exp=new Date;exp.setMinutes(exp.getMinutes()-1e3),path=path||"/",document.cookie=name+"=;expires="+exp.toGMTString()+(path?";path="+path:"")+(domain?";domain="+domain:"")+(secure?";secure":"")}}};exports.default=cookie},20:function(module,exports){"use strict";exports.__esModule=!0;exports.defaultAvatar="//11.url.cn/now/h5/img/avatar_16ba37c.png",exports.logoImg="//11.url.cn/now/h5/img/logo_e29054a.png",exports.loadImg="//11.url.cn/now/h5/img/load_img_b5909ab.png",exports.defaultGift="//11.url.cn/now/h5/img/gift@2x_acfc32a.png"},21:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isSupWebp(){function isSupportedWebP(cb){"1"==obj.supportedWebP?obj.supportedWebP=!0:"0"==obj.supportedWebP&&(obj.supportedWebP=!1);var execute=function(){for(var i=0,len=obj.supportedWebPQueue.length;i<len;i++)obj.supportedWebPQueue[i](obj.supportedWebP);obj.supportedWebPQueue=[]};if(void 0===obj.supportedWebP){if(cb&&obj.supportedWebPQueue.push(cb),!obj.supportedWebPIsLoading&&"undefined"!=typeof Image){obj.supportedWebPIsLoading=!0;var $img=new Image,callback=function(result){obj.supportedWebP=result,obj.supportedWebPIsLoading=!1,_nowUtilCookie2.default.set("_supWebp",result?1:0,10080),execute()};$img.onload=function(){callback(2===this.width&&1===this.height)},$img.onerror=function(){callback(!1)},$img.src="data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoCAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA=="}}else cb&&cb(obj.supportedWebP);return obj.supportedWebP}var obj={supportedWebPQueue:[],supportedWebP:_nowUtilCookie2.default.get("_supWebp")||void 0,supportedWebPIsLoading:!1,isSupportedWebP:isSupportedWebP};return isSupportedWebP(),obj}var _nowUtilCookie=__webpack_require__(18),_nowUtilCookie2=_interopRequireDefault(_nowUtilCookie),webp={webp:isSupWebp()};module.exports=webp},23:function(module,exports,__webpack_require__){"use strict";function pic(url,size,svr,useRaw){url=url||"";var servers={"shp.qlogo.cn":!0,"p.qpic.cn":!0,"p.qlogo.cn":!0,"pic.url.cn":!0,"qpic.url.cn":!0},domain=url.match(/\/\/([^\/]+)\//)&&RegExp.$1||"";if(url){if(url=url.replace(/^https?:/,""),/\.(png|jpg|jpeg|gif)$/.test(url)||url.match(/\?/))return url;size&&servers[domain]&&(url=url.replace(/(\/\d*)?$/,"/"+size)),webp.webp.supportedWebP&&(url=url+(url.match(/\?/)?"&":"?")+"tp=webp"),useRaw&&(url=url.match(/^http/)?url:"http:"+url,url=url.replace(/\?.*/,""))}return url}var webp=__webpack_require__(21);module.exports=pic},37:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==("undefined"==typeof call?"undefined":_typeof(call))&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof superClass?"undefined":_typeof(superClass)));subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.__esModule=!0;var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),loadedImages={},ImageLoader=function(_Component){function ImageLoader(props,context){_classCallCheck(this,ImageLoader);var _this=_possibleConstructorReturn(this,_Component.call(this,props,context));return _this.getImageUrl=function(){var imageUrl="";return imageUrl="error"===_this.state.visable?_this.props.errorImg||_this.state.errorSrc||_this.props.placeholder:_this.props.forceShow?_this.props.src:_this.state.visable&&_this.props.src?_this.props.src:_this.props.placeholder},_this.load=function(src){if(src){_this.props.onStart&&_this.props.onStart(_this),ImageLoader.onStartCallback&&ImageLoader.onStartCallback(src,_this);var succ=function(){loadedImages[src]=!0,_this.mounted&&_this.props.src===src&&(_this.setState({visable:!0}),_this.props.onLoad&&_this.props.onLoad(src,_this)),ImageLoader.onLoadCallback&&ImageLoader.onLoadCallback(src,_this)},err=function(){_this.mounted&&_this.props.src===src&&(_this.setState({visable:"error"}),_this.props.onError&&_this.props.onError(src,_this)),console.error("LazyLoad image load error",src),ImageLoader.onErrorCallback&&ImageLoader.onErrorCallback(src,_this)};if(loadedImages[src])_this.setState({visable:!0}),setTimeout(succ,10);else{var img=new Image;img.onload=succ,img.onerror=err,img.src=src}}},_this.state={visable:!1},_this}return _inherits(ImageLoader,_Component),ImageLoader.onStart=function(cb){ImageLoader.onStartCallback=cb},ImageLoader.onLoad=function(cb){ImageLoader.onLoadCallback=cb},ImageLoader.onError=function(cb){ImageLoader.onErrorCallback=cb},ImageLoader.prototype.componentWillReceiveProps=function(nextProps){var props=this.props;this.state;nextProps.src!==props.src&&(this.state.visable=!1,this.load(nextProps.src))},ImageLoader.prototype.componentDidMount=function(){this.props,this.state;this.mounted=!0,this.load(this.props.src)},ImageLoader.prototype.componentWillUnmount=function(){this.mounted=!1},ImageLoader.prototype.setErrorSrc=function(src){this.mounted&&this.setState({errorSrc:src})},ImageLoader.prototype._addSrcToAttr=function(attr,tag){var src=this.getImageUrl();"img"===tag?attr.src=src:attr.style=Object.assign({},attr.style,{backgroundImage:"url("+src+")"})},ImageLoader.prototype.render=function(){var _this2=this,props=(this.state,this.props),tag="error"===this.state.visable?"div":props.tag,attr=Object.assign({},props||{},{tag:void 0,src:void 0,placeholder:void 0,ref:function(c){_this2.node=c}});return this._addSrcToAttr(attr,tag),_react2.default.createElement(tag,attr,this.props.children||null)},ImageLoader}(_react.Component);ImageLoader.defaultProps={tag:"div",forceShow:!1,placeholder:"",src:"",errorImg:""},ImageLoader.propTypes={tag:_react.PropTypes.string,forceShow:_react.PropTypes.bool,placeholder:_react.PropTypes.string,src:_react.PropTypes.string,children:_react.PropTypes.node},exports.default=ImageLoader},705:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_sandbox=__webpack_require__(7),_index=__webpack_require__(707),_index2=_interopRequireDefault(_index),OfflineWrapper=function(_Component){function OfflineWrapper(){var _ref,_temp,_this,_ret;_classCallCheck(this,OfflineWrapper);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,(_ref=OfflineWrapper.__proto__||Object.getPrototypeOf(OfflineWrapper)).call.apply(_ref,[this].concat(args))),_this.toggleAttend=function(){var roomInfo=_this.state.roomInfo;_this.setState({roomInfo:Object.assign({},roomInfo,{isListen:!roomInfo.isListen})})},_this.onBack=function(){},_this.state={roomInfo:{roomLogoUrl:"//p.qlogo.cn/hy_personal_room/5809525/58095251475286210/640",anchorPic:"http://p.qlogo.cn/hy_personal/2af2c7169c4994d8b72f45ef7ef5651b9d42fc293c9222477feca52da3eaeaabc35bb6000b246a99/",anchorName:"风靡万千少女",isListen:!0},harvest:{totalPeople:1024,totalTime:624},backWording:"探索更多内容"},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(OfflineWrapper,_Component),_createClass(OfflineWrapper,[{key:"render",value:function(){var _state=this.state;_state.show,_state.shareTypes;return _react2.default.createElement("div",{style:{height:"650"}},_react2.default.createElement(_index2.default,_extends({onClick:this.onClick,attend:this.toggleAttend,onBack:this.onBack},this.state)))}}]),OfflineWrapper}(_react.Component);exports.default=OfflineWrapper,_sandbox.sandboxStore.add("offline",OfflineWrapper)},707:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_nowBaseImage=__webpack_require__(37),_nowBaseImage2=_interopRequireDefault(_nowBaseImage),_nowUtilPic=__webpack_require__(23),_nowUtilPic2=_interopRequireDefault(_nowUtilPic),_nowImg=__webpack_require__(20);__webpack_require__(1569);var Offline=function(_Component){function Offline(props,context){return _classCallCheck(this,Offline),_possibleConstructorReturn(this,(Offline.__proto__||Object.getPrototypeOf(Offline)).call(this,props,context))}return _inherits(Offline,_Component),_createClass(Offline,[{key:"attend",value:function(){this.props.attend()}},{key:"toTime",value:function(second){var h=parseInt(second/3600),m=parseInt(second%3600/60),s=second%60,toNum=function(n){return n<10?"0"+n:n};return toNum(h)+":"+toNum(m)+":"+toNum(s)}},{key:"render",value:function(){var props=this.props,_props=this.props,roomInfo=_props.roomInfo,harvest=_props.harvest,onBack=_props.onBack,backWording=_props.backWording,roomLogoUrl=roomInfo.roomLogoUrl,anchorPic=roomInfo.anchorPic,anchorName=roomInfo.anchorName,isListen=roomInfo.isListen,totalTime=harvest.totalTime,totalPeople=harvest.totalPeople;return _react2.default.createElement("section",{className:"offline-container",style:props.height&&{height:props.height}||{}},_react2.default.createElement("h3",{className:"title"},"直播已结束"),totalTime?_react2.default.createElement("div",{className:"duration"},"时长 ",this.toTime(totalTime)):"",_react2.default.createElement(_nowBaseImage2.default,{className:"logo",src:roomLogoUrl?(0,_nowUtilPic2.default)(roomLogoUrl,640):_nowImg.loadImg},_react2.default.createElement("div",{className:"count-wrap"},_react2.default.createElement("div",{className:"count-title"},"观看人数"),_react2.default.createElement("div",{className:"count"},totalPeople||0))),_react2.default.createElement("div",{className:"tail"},_react2.default.createElement(_nowBaseImage2.default,{className:"avatar",src:anchorPic?(0,_nowUtilPic2.default)(anchorPic,80):_nowImg.defaultAvatar}),_react2.default.createElement("div",{className:"nick"},anchorName),_react2.default.createElement("div",{className:"attend "+(isListen?"is-listen":""),onClick:this.attend.bind(this)},isListen?"已关注":"关注")),_react2.default.createElement("a",{className:"back",href:"javascript:;",onClick:onBack},backWording))}}]),Offline}(_react.Component);exports.default=Offline},1168:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(3)(),exports.push([module.id,'.offline-container{position:relative;padding:50px 0 30px;height:100%;box-sizing:border-box;background:#fff;font-size:12px}.offline-container .icon-load{background-image:url(//11.url.cn/now/h5/img/load_img_b5909ab.png);background-size:100% 100%;background-repeat:no-repeat}.offline-container .title{font-size:24px;text-align:center;line-height:1}.offline-container .duration{font-size:14px;text-align:center;line-height:26px;height:26px;color:#898989}.offline-container .logo{position:absolute;top:120px;bottom:125px;left:30px;right:30px;background-repeat:no-repeat;background-position:50%;background-size:cover;background-image:url(//11.url.cn/now/h5/img/avatar_16ba37c.png)}.offline-container .logo .count-wrap{position:absolute;bottom:80px;left:0;right:0}.offline-container .logo .count-title{color:#fff;text-align:center;font-size:14px;line-height:18px}.offline-container .logo .count{color:#fff;text-align:center;font-size:42px;line-height:44px}.offline-container .tail{position:absolute;bottom:125px;left:30px;right:30px;display:flex;height:40px;padding:10px;overflow:hidden;background-color:hsla(0,0%,100%,.95)}.offline-container .tail .avatar{height:40px;width:40px;border-radius:50%;background-image:url(//11.url.cn/now/h5/img/avatar_16ba37c.png);background-repeat:no-repeat;background-position:50%;background-size:cover}.offline-container .tail .nick{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 10px;line-height:40px;font-size:16px;color:#000}.offline-container .tail .attend{vertical-align:top;position:relative;top:7px;width:80px;height:26px;line-height:26px;border-radius:13px;text-align:center;background:#05d380;border:1px solid #05d380;color:#fff}.offline-container .tail .attend.is-listen{background:#fff;border:1px solid #333;color:#333}.offline-container .tail .attend.is-listen:before{display:inline-block;content:"";border-bottom:1px solid #333;border-left:1px solid #333;width:8px;height:4px;margin-right:6px;transform:rotate(-30deg);position:relative;top:-3px}.offline-container .back{position:absolute;bottom:20px;left:30px;right:30px;display:block;border:1px solid #05d380;color:#05d380;text-align:center;font-size:16px;height:40px;line-height:40px;border-radius:20px}@media (max-height:580px){.offline-container .bg{height:280px}}',""])},1569:function(module,exports,__webpack_require__){var content=__webpack_require__(1168);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(4)(content,{});content.locals&&(module.exports=content.locals)}});
//# sourceMappingURL=32.d1b08b1779542f44d3ac.bundle.js.map